package flat/parser/matchers

import flat/datastruct/HashMap
import flat/compiler/models/Token
import flat/log/Logger

data class extends TokenPattern {
  static Logger log = Logger(SingleTokenPattern.class)

  visible Int type
  visible String value = null
  visible String[] values = null
  visible String[] notValues = null

  public getMatcher() => SingleTokenMatcher(this)

  override public toPatternString() -> String {
    var str = ""

    if (label) {
      str += "#{label}:"
    }

    str += "<"
    str += Token.Type.toString(type)

    if (values) {
      str += "[" + values.map({ "\"#{_}\"" }).join(" ") + "]"
    }
    if (value) {
      str += ":\"" + value + "\""
    }

    str += ">"
    str += getModifiersString()

    return str
  }
}